


<div style="display: block">
  
  <h3 style="text-align: center"> {{ "Yearly Profit : "+year}}</h3>
  <div class="dropdown">

    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {{ year }}
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" (click)="year=2005;fireEvent();">2005</a>
      <a class="dropdown-item" (click)="year=2006;fireEvent();">2006</a>
      <a class="dropdown-item" (click)="year=2007;fireEvent();">2007</a>
      <a class="dropdown-item" (click)="year=2008;fireEvent();">2008</a>
    </div>
  </div>
  <div *ngIf="doughnutData.length==0; then loading;else loaded"></div>
  <ng-template #loading >
    <div class="text-center">
      <div class="spinner-border" style="width: 10rem; height: 10rem; "role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </ng-template>

  <ng-template #loaded>

    <canvas baseChart
    [data]="doughnutChartData"
    [labels]="doughnutChartLabels"
    [chartType]="doughnutChartType"
    [colors]="doughnutChartColors" (click)="GetMonthlyProfits(year)"></canvas>

  </ng-template>
  </div>